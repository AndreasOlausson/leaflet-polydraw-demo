import * as L from 'leaflet';
import { TurfHelper } from '../turf-helper';
import type { Feature, Polygon, MultiPolygon } from 'geojson';
import type { PolydrawConfig } from '../types/polydraw-interfaces';
import { ModeManager } from './mode-manager';
export interface DrawResult {
    success: boolean;
    polygon?: Feature<Polygon | MultiPolygon>;
    error?: string;
}
export interface PolygonDrawManagerDependencies {
    turfHelper: TurfHelper;
    map: L.Map;
    config: PolydrawConfig;
    modeManager: ModeManager;
    tracer: L.Polyline;
}
/**
 * PolygonDrawManager handles all user-facing drawing actions.
 * This includes freehand drawing and point-to-point drawing functionality.
 */
export declare class PolygonDrawManager {
    private turfHelper;
    private map;
    private config;
    private modeManager;
    private tracer;
    private eventListeners;
    private p2pMarkers;
    constructor(dependencies: PolygonDrawManagerDependencies);
    /**
     * Add event listener
     */
    on(event: string, callback: (...args: any[]) => void): void;
    /**
     * Emit event to all listeners
     */
    private emit;
    /**
     * Handle mouse move during freehand drawing
     */
    mouseMove(event: L.LeafletMouseEvent | TouchEvent): void;
    /**
     * Handle mouse up/leave to complete freehand drawing
     */
    mouseUpLeave(event: any): Promise<DrawResult>;
    /**
     * Handle point-to-point click
     */
    handlePointToPointClick(clickLatLng: L.LatLng): void;
    /**
     * Handle double-click to complete point-to-point polygon
     */
    handleDoubleClick(e: L.LeafletMouseEvent): void;
    /**
     * Complete point-to-point polygon drawing
     */
    completePointToPointPolygon(): void;
    /**
     * Cancel point-to-point drawing
     */
    cancelPointToPointDrawing(): void;
    /**
     * Clear all P2P markers
     */
    clearP2pMarkers(): void;
    /**
     * Reset the tracer
     */
    resetTracer(): void;
    /**
     * Check if clicking on the first point to close polygon
     */
    private isClickingFirstPoint;
    /**
     * Get current P2P markers (for external access)
     */
    getP2pMarkers(): L.Marker[];
    /**
     * Check if currently in point-to-point drawing mode
     */
    isInPointToPointMode(): boolean;
    /**
     * Get current tracer points count
     */
    getTracerPointsCount(): number;
}
//# sourceMappingURL=polygon-draw-manager.d.ts.map